{% extends 'tapnote/base.html' %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-3xl">
    {% if can_edit %}
    <div class="flex justify-end mb-8">
        <a href="{% url 'edit_note' note.hashcode %}" class="px-6 py-2 border border-black rounded-full hover:bg-black hover:text-white transition-colors">
            Edit
        </a>
    </div>
    {% endif %}
    <div class="markdown-content"
         data-na-root
         data-work-id="{{ note.hashcode }}"
         data-chapter-id="main">
        {{ content|safe }}
    </div>
</div>
{% endblock %}

{% block extra_js %}
<!-- ParaNote Integration -->
<script
  async
  src="http://localhost:4000/public/embed.js"
  data-site-id="tapnote-local"
  data-api-base="http://localhost:4000"
></script>
{% endblock %} 